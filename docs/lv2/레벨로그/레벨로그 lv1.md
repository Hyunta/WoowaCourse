## 자동차 경주 - TDD

- Random 테스트
  - Random 값은 테스트를 어렵게 한다.  
  - 메서드 시그니처를 수정하여 Random값을 만드는 부분을 분리하니 테스트하기 용이해졌다. 
  - 메서드가 한가지 기능만 하면 테스트하기 용이해진다.
- 응집성이 높고, 결합도가 낮은 코드
  - 기능을 수행하기 위해 연관된 책임과 아이디어가 뭉쳐있으면 응집도가 높다.
  - 다른 모듈에 의존성이 낮으면 결합도가 낮다. 
  - 유지보수할 때 응집성이 높고, 결합도가 낮아야 유리하다.
- 전략 패턴
  - 매 경기가 시작되면 자동차에 랜덤값을 넘겨주면서 움직이도록 한다. 매번 다른 결과가 나와서 테스트하기 번거롭다.
  - 전략 패턴을 이용하여 NumberGenerator 라는 인터페이스의 구현체를 이용했다. 프로덕션 코드에서는RandomNumberGenerator를 쓰고, 테스트할 때는 FixedNumberGenerator로 테스트를 했다.



## 로또 미션 - OOP

- @MethodSource 활용
  - @CsvSource를 쓰니 Enum 값을 변경할 때 Test 코드에서 하드코딩된 값을 변경해야하는 상황이 있었다.
  - @MethodSource로 로컬 변수를 불러와 테스트해서 해결했다.
- null이 아닌 의미있는 값으로 반환하자.
  - 정해진 순위에 들지 못했을 경우 null을 반환하도록 구현했다.
  - 초기화 되지 않거나 버그로 null이 반환되는 경우와 구분할 수 없다. 
  - 순위에 없을 땐 의미있는 Enum 값을 반환하도록 변경했다.
- MVC 패턴
  - 각 컴포넌트가 서로에 대해서 몰라야한다. 
  - 컨트롤러는 비지니스 로직을 알면 안되고, 뷰에 종속되면 안된다.



## 블랙잭 - 상속, 인터페이스

- 인스턴스 캐싱
  - 자주 사용하는 인스턴스는 미리 만들어서 캐싱해두는 것이 유리하다. 
- 인스턴스 변수는 언제 초기화하는게 좋을까?
  - 생성자, 변수 선언, 초기화 블럭 3가지 방법이 있다.
  -  생성자를 제외하고 코드 순서에 영향을 받는다. 
  - 생성자에서 초기화하는 것이 좋다고 생각한다.
- 상태패턴
  - 객체 내부 상태 변경에 따라 객체의 행동이 달라지는 패턴. 
  - 블랙잭의 경우 각 참가자의 카드에 따라 상태를 변경하여 행동을 제한할 수 있다.



## 체스 - 웹, DB

- getClass()를 통해 비교하는건 권장하지 않는다.

- 저장된 상태가 없을 때 null 말고 Optional을 반환해보자


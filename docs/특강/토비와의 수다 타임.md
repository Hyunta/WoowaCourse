## 토비와의 수다 타임

젊은 개발자를 만나는 건 흔치 않은 경우, 존경하는 제이슨

#### Q1. 아내분을 어디서 만나셨나요?

대학교 때 동아리 모임, IT 소모임에 나갔다가 만났습니다.



#### Q2. 왜 스프링을 사용해야할까요?

처음 쓰기 시작한 건 2003년, 대부분 자바 엔터프라이즈 서버, 위에서 구동되는 엔터프라이즈 기술을 사용했었다.

대기업은 안정감을 얻기 원해서, 보증이 된 기술을 사용하려고 한다. EJB를 사용, 스트럿츠 오픈소스 기술 근데 기업들이 많이씀.

표준 서블릿만을 갖고 개발을 하는 것은 모든 기능에 따라 클래스가 필요하다. 프론트 컨트롤러 쓰기는 힘들어서 스트럿츠를 사용했다.

블로깅을 하는 것이 핫한 주제였다. Confluencer라는 위키를 개발하는데 스프링을 사용했다. 오픈소스 개발자들이 기업관련 사람들이 아니라, 그냥 개발자들이 만든 것이었다. 과연 이런식으로 운영되는 기술이 실무에서도 쓰일 수 있는가? ERP를 할 때 스프링이라는 표준이 있고, 오픈소스로 개발되어지고 있는데 사용하보자 제안했다.

EJB를 쓰면서 생기는 문제가 많이 개선됐다, hibernate를 쓰니까 예전보다 훨씬 코드도 줄어들고 빌드 시간도 빨라졌다.

오픈소스와 커뮤니티가 돌아가는 모습들이 협력적이고 자율적이라는 점이 좋아보였다. 그런 모습에서 가능성을 발견하고

2006년 자바원이라는 컨퍼런스에서 스프링 기술을 공식 인증 기술로 올려달라고 해서, 순수하게 오픈 소스에서 공식 인증 기술로 인증받았다. 엔터프라이즈 단위에서 오픈 소스 기술이 사용 가능하구나 결심했다.

자바, JVM 언어에서 생태계에서는 스프링을 쓸 수 밖에 없다.



#### Q3. 스프링의 작동원리를 분석하고 싶으면 어떻게 해야하나요?

Core 프레임워크의 라인이 10만개 정도된다... 코드를 열어보는 것은 위험하다.

스프링 개발자들이 커멘트를 많이 단다.

소스코드를 가능한 열어보지 말고, 굳이 한다면 최초에 올라온 1.0 소스코드를 보세요.

스프링의 가장 큰 장점이자 특징은, 1.0에서 부터 사용되는 기술이 지금도 그대로 있다는 것. 기본 아이디어 위에서 모든 기술이 만들어졌다. DI를 통해서 그 위에다 만들어졌다. 초기에는 xml 을 이용해서 사용했다. 스키마로 쓰다가, annotation, java config를 사용해서 만들고 있다. 

**함수형 스타일의 코드를 이용해서 할 수 도 있는게 추가됐다.**

스프링 자체가 DI 라는 기술을 발전하고 확장시키지만 코어는 그대로 유지하고 있다. 최근에 본 스프링 기술들이 다 그것을 기반으로 만들어져있다. 스프링 1.0이 어떤 형태인지 본다면 지금도 같다는 것을 알고 있을 것이다. 하지만 어렵다... 범용적인 프레임 워크는 확장석이 되게 높도록 만들어져있기 때문에. ApplicationContext, Interface 구조를 확인해봤으면 좋겠다.

스프링 MVC는 따로 발전되어왔다. WebFlux까지도 일관성있게 적용되어있다.

스프링이 어떻게 만들어졌고, 확장되어있는지 확인해보면 좋을 것이다. 인터페이스부터 먼저 찾아보고 구현들을 하나씩 둘러봐라

AOP와 관련된 부분은 절대 보지 마세요.



#### Q4. 객체 지향 개발론이 이상적인가?

프로그래밍 구조를 만들어 나가는 방식은 다양하게 발전되어왔다. 그 사이사이에 훨씬 세밀화된 방식이 있었다. 응집도가 높고, 결합도가 낮도록 설계하는 것은 예전부터 있었다. 객체 지향이라고 해서 특별하게 어렵게 설계하고 이런거에 메이지는 마시고, 모든 개발에 대표적인 패러다임으로 가지게 된 원칙 원리들을 잘 지키면 충분하다고 생각한다. 객체 지향이라는 용어를 앨런케이가 처음 선언을 했다.

스몰 토크라는 객체 지향 언어를 만들었다. 켄트 벡씨도 스몰 토크 개발자였다.

객체 지향이라는 말을 썼을 때 기본 아이디어는 명령들이 주로 하는 일은 데이터를 조작하거나 읽거나 였다. 문제는 너도나도 데이터를 건드리게 된다는 것이다. 프로그램 규모가 커지면 문제가 되기 때문에 발상을 바꿨다. 엘런케이가 데이터를 없애자는 아이디어를 냈다. 모든 프로그램 코드가 자유롭게 어디든 다가갈 수 있는 글로벌한 데이터를 버리자. 세포와 세포들이 메시지를 주고받듯이 구현하자.

글로벌 데이터를 없애자. 객체와 객체간의 통신만 유지하자. 함수를 호출하는 것(procedure call)을 명령한다고 생각하여, 메시지를 통해서 부탁을 하자. 오브젝트가 권한을 가지고 있다.

조영호 오브젝트 / 객체와 객체 사이에 어떤 메시지를 주고받는가에 생각을 하고 구현을 해봐라. 동등한 각자가 처리할 수 있는 것을 갖고 있고 서로에게 메세지를 보낸다고 생각하고 다시 객체지향을 바라보면, 시선이 달라질 수 있다.



#### Q5. 규모가 작은 프로그램에서 확장성을 고려하다보니 오버엔지니어링이 된다고 하는데 얼마나 기준을 가져야하나요?

오버엔지니어링인지 어떻게 알 것인가? 그런 기준이 있는가? 확장성을 얼마나 고려해야 하는가? 조금 더 추상화하고 확장을 하려다 보니 지금 하는 일이 늦어지게 된다고 생각이 들면 단순하게 개발을 하세요. 하지만 너무 크다고 생각하면 그때 확장성을 고려해서 개발하세요. 하지만 오버엔지니어링이라는 말을 쓰지 마세요.

후다닥하고 대충 만들었다가 대박이 나는 경우도 있습니다. 돈이 많으면 사람들을 많이 써서 엎으면 됩니다. 팀으로 일을 하게되는 경우 미리 커뮤니케이션을 해서 추상화를 얼마나 할 것인지 결정을 해서 타협을 하고 작업을 하는 것이 좋다.



#### Q6. 함께 개발하고 싶은 개발자는 어떤 스타일인가요?

실력이 좋은 개발자. 협업이라는 측면에서는 커뮤니케이션을 적극적으로 하는 사람을 좋게 생각한다. 머릿속에 고민한 것을 가능하면 투명하게 말해주는 사람이 있어야 나중에 놀라지 않을 수 있다.

그때그때 즉각적인 소통을 할 수 있는 개발자가 좋은 것 같다. 작업한 것에 대해 공유를 잘하고 편안하게 꺼내놓는 것 고민이 공유되는 것. 자기도 어제 알아놓고 마치 알고 있었던 것처럼 서로가 서로를 계속 지켜보면서 발전할 수 있는 구조가 좋다. 

맡겨진 책임을 완수하려고 노력하는 사람이 좋다.



#### Q7. 수동 빈 주입할 때 configuration에서 new 객체와 빈 주입을 하는 경우

모든 것을 빈으로 넣을 필요는 없다. 객체가 하나 생성되는 과정에서 그루핑이 가능하다, 빈과 같은 라이프 사이클을 같이 가지고 있고 같이 바뀔 것이다 그리고 외부에서 굳이 ac에서 조회할게 없다 그러면 new를 해서 만드는 것이 맞다.

주입을 할 때는 구체 클래스를 의존하지 않고 인터페이스를 의존하도록 분리해내는 것이 좋다.



#### Q8. 필터는 스프링 앞단인데 왜 스프링이 관여하죠?

필터는 서블릿이 관리하고, 인터셉터가 필터가 하는 일을 대부분 관리한다. 굳이 필터를 쓰고 있는지 고민하지 않아도 된다.

필터가 예민해지는 상황은 비동기 웹을 사용하는 경우 필터를 두번 지나게 되는 경우가 있다. asyncSevlet이 필터가 어떻게 호출되도록 만드는 것인지 찾아보세요. 하지만 거기에 시간을 쓰지 마세요



#### Q9. 서비스에서 DTO를 반환하는게 좋나요? 아니면 도메인을 반환하는 것이 좋나요?

Controller에서 Domain을 리턴하는것을 허용해야할까요? 하지말라고 팀에게 주장을 한다.

스프링 MVC는 뷰가 들어가야한다. 모델이 돌려준 정보를 사용자한테 클라이언트한테 어떻게 보여줄 것인지 결정하는 것이 뷰다.

어떻게 보여주기 위해서 필요로하는 정보가 무엇이다는 뷰에서 결정을 하는 것이다.

서버레벨에서 어떤 클라이언트가 쓸 것인지는 결정해서 보내주는 것이 좋다.

view 오브젝트는 따로 만들어서 보내줬으면 좋겠다.



만배클아 에서 매핑 전략을 다양하게 가져간다.

서비스라고 이름을 붙여서 시작하는 도메인을 집중해서 다루는 레이어에서 뒷부분을 독립적으로 설계하는 것을 권장한다. 클라이언트가 어떤것을 보여줘야할지 심각하게 고민하거나 종속이 되도록 구현하는 것이 좋을까요?

뷰 로직이 바뀌었는데 전체가 바뀌는게 좋을까요?

김영한, 성능 중심 서로 의존을 하더라도 원하는데로 스펙에 맞춰서 반환하는 것을 좋아한다.

성능을 중느슨하게 정의하는 것을 좋아하기도 한다.

서비스 쪽에서 서비스 앞단에 dto를 대체할 수 있는 용어 중 `데이터 캐리어`를 만들어서 리턴하는 방식인데 토비는 싫어한다.

도메인은 서비스 모든 영역에 존재해도 좋다고 생각한다. DB 모델과 도메인 모델을 분리한다.

controller에서 도메인을 변경하면 어떡하지? 하지만 다 호출되는 것이 좋다.

도메인에는 어떤 정보가 들어있고, 어떻게 매핑해서 반환하는 것을 결정하는 것은 컨트롤러의 역량이라고 생각한다.

팀에서 어떻게 합의가 되느냐에서 결정하는 것이 좋다. 하지만 DTO를 계속해서 늘리는 것은 비효율적이라고 생각합니다.



#### Q10. 장기적인 추세에서 자바 스프링이 코틀린 스프링으로 대체될까요?

코틀린은 내가 좀 멋있는 개발자라던가... 우리는 코틀린으로 하지 라는데라면 쓰게되겠지만.

그래도 장기적으로는 자바가 메인이 될 것 같습니다. 새로운 언어를 공부하는 이유는 여러가지가 있지만 꼭 전환하려다기 보다는 기존 언어에 추가하거나 응용하는 경우가 있다.

코틀린이 정말 밸런스를 잘 잡은 것 같다. 세련되면서 기존의 자바 언어의 부담을 느끼지 않고 시작할 수 있도록 잘 만들어 놓은 것 같다.

어느 환경에 들어가실지 모르겟지만. 오래 일한 사람들은 새로운 언어로 변경하는 것을 거부할 가능성이 높다.

자바가 9가 나오고나서부터 미친듯이 업데이트를 해서 6개월만에 업데이트를 하고 변화가 이뤄지고 있다.

코틀린은 심상치 않지만, 지금은 미비하다. 자바를 잘하는 사람이 코틀린으로 전환되는 것은 쉽다.



#### Q11. 자바를 잘 쓴다는 것은 무엇인가요?

자바 언어의 특성을 잘 알고 제공하는 기술을 잘 알아서 적재적소에 사용하는 것.

표준 api인데 잘 모르는 경우가 있다. java language spec이 있다는 것을 아시나요?
